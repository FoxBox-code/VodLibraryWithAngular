<header>
  <nav>
    <a routerLink="/" routerLinkActive="active" ariaCurrentWhenActive="page">
     logo
    </a>


    <a routerLink="upload" routerLinkActive="active" ariaCurrentWhenActive="page">
      Go to upload
    </a>



    <ng-container *ngIf="!userAuth; else LoggedIn">
      <a routerLink="register" routerLinkActive="active" ariaCurrentWhenActive="page">
        Register
      </a>
      <a  routerLink="login" routerLinkActive="active" ariaCurrentWhenActive="page">
        Login
      </a>
    </ng-container>
    <ng-template #LoggedIn>
      <button *ngIf="userAuth" type="button" (click)="logOutUser()">Log out </button>
      <a *ngIf="userAuth">Hello {{userNameDynamic$ | async}}</a>
      <a *ngIf="userAuth" routerLink="liked-videos" routerLinkActive="active" ariaCurrentWhenActive="page"> Liked Videos</a>
      <a *ngIf="userAuth" routerLink="watch-history" routerLinkActive="active" ariaCurrentWhenActive="page"> Watch History</a>
    </ng-template>
  </nav>
</header>

<main>

  <form>
          <label for="search">Search</label>
          <input id="search" type="text"
          [formControl]="searchBar"
          (focus)="searchBarFocused = true"
          (blur)="searchBarFocused = false">

          <div *ngIf="typeof searchBar.value === 'string' && searchBar.value.length > 0 && searchBarFocused">
              <button type="submit" (click)="performASearch()">Find</button>
          </div>
    </form>

  <ng-container *ngIf="mainMenu; else DifferentComponent">
        <app-videos-section>

        </app-videos-section>
  </ng-container>

  <ng-template #DifferentComponent>
        <router-outlet>

        </router-outlet>
  </ng-template>

</main>


